{"version":3,"sources":["components/hoc/withAuthRedirect.js","components/Profile/Profile.module.css","Logotip/Arkaneee.jpg","components/Profile/Profileinfo/Profileinfo.module.css","Logotip/Arkane_user.png","components/MyPosts/Post/Post.module.css","components/Profile/ProfileStatus.jsx","components/Profile/ProfileStatusWithHooks.jsx","components/Profile/Profileinfo/Profileinfo.jsx","components/MyPosts/Post/Post.jsx","components/MyPosts/MyPosts.jsx","components/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","Object","C_ovenapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_ovenapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_ovenapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","C_ovenapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_ovenapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","React","connect","module","exports","content","__webpack_require__","p","ProInfo","ProInfo__avDis","post","ProfileStatusWithHooks","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","react_default","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","Profileinfo","_ref","profile","className","s","src","photos","large","fullName","aboutMe","contacts","vk","lookingForAJobDescription","Profile_ProfileStatusWithHooks","Preloader","Post","Arkane","alt","name","like","maxLength","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","MyPosts","memo","dialogsElement","toConsumableArray","dialogsPost","reverse","map","MyPosts_Post_Post","id","values","addPost","newPostText","MyPostsContainer","postPage","dispatch","addPostActionCreator","Profile","Profile_Profileinfo_Profileinfo","MyPosts_MyPostsContainer","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","components_Profile_Profile","assign","compose","getStatus","withRouter"],"mappings":"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","file":"static/js/2.797762bb.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2QJgT\"};","module.exports = __webpack_public_path__ + \"static/media/Arkaneee.b05c1c56.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProInfo\":\"Profileinfo_ProInfo__1whUh\",\"ProInfo__avDis\":\"Profileinfo_ProInfo__avDis__39xSd\"};","module.exports = __webpack_public_path__ + \"static/media/Arkane_user.bca42391.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1l1wU\"};","import React from 'react';\r\n\r\nclass ProfileStatus extends React.Component {\r\n    //statusInputRef = React.createRef()\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n        console.log(\"componentDidUpdate\")\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(\"render\")\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={this.activateEditMode} >{this.props.status || \"----\"}</span>\r\n                    </div>\r\n                }\r\n                {this.state.editMode &&\r\n                    <div>\r\n                        <input\r\n                            onChange={this.onStatusChange}\r\n                            autoFocus={true}\r\n                            onBlur={this.deactivateEditMode}\r\n                            value={this.state.status} />\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status] )\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { !editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\r\n                </div>\r\n            }\r\n            { editMode &&\r\n            <div>\r\n                <input\r\n                        onChange={onStatusChange}\r\n                        autoFocus={true}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react';\r\nimport Arkane from \"../../../Logotip/Arkaneee.jpg\";\r\nimport s from './Profileinfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"../ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"../ProfileStatusWithHooks\";\r\n\r\nconst Profileinfo = ({profile,status,updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.ProInfo}>\r\n            {/*<img src={Arkane} alt=\"\"/>*/}\r\n            <div className={s.ProInfo__avDis}>\r\n                <img src={profile.photos.large} /><br/>\r\n                <div>{profile.fullName}</div>\r\n                <div>{profile.aboutMe}</div>\r\n                <div>{profile.contacts.vk}</div>\r\n                <div>{profile.lookingForAJobDescription}</div>\r\n                <hr/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n                <br/><hr/>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profileinfo;","import React from 'react';\r\nimport Arkane from '../../../Logotip/Arkane_user.png'\r\nimport s from \"./Post.module.css\"\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={Arkane} alt=\"\"/>\r\n            {props.name} <br/>\r\n            {props.like}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required, maxLengthCreator} from \"../../utils/validators\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength = maxLengthCreator(10)\r\n\r\nlet AddNewPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} >\r\n        <div><h3>My posts</h3></div>\r\n        <Field\r\n            component={Textarea}\r\n            name=\"newPostText\"\r\n            placeholder={\"textarea\"}\r\n            validate={[required, maxLength]}\r\n        /><br/>\r\n        <button>add post</button>\r\n    </form>\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\n\r\nconst MyPosts = React.memo(props => {\r\n        let dialogsElement = [...props.dialogsPost].reverse().map(p => <Post name={p.name} like={p.like} key={p.id}/>)\r\n        //let newPostElement = React.createRef()\r\n\r\n        let addPost = (values) => {\r\n            props.addPost(values.newPostText)\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <AddNewPostFormRedux onSubmit={addPost}/>\r\n                <br/>\r\n                {dialogsElement}\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPost: state.postPage.Post,\r\n        newPostText: state.postPage.newPostText,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n\r\n","import React from 'react'\r\nimport s from \"./Profile.module.css\"\r\nimport Profileinfo from \"./Profileinfo/Profileinfo\";\r\nimport MyPostsContainer from \"../MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <Profileinfo profile={props.profile}\r\n                         isAuth={props.isAuth}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport s from \"./Profile.module.css\"\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            //userId = 12938\r\n            userId = this.props.authorizedUserId\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        //this.props.getStatus(userId)\r\n\r\n    }\r\n\r\n    render() {\r\n        //console.log(\"RENDER PROFILE\")\r\n        return (\r\n                <div className={s.content}>\r\n                    <Profile {...this.props}\r\n                             profile={this.props.profile}\r\n\r\n                             status={this.props.status}\r\n                             updateStatus={this.props.updateStatus}\r\n                    />\r\n                </div>\r\n               )\r\n          }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    //console.log(\"mapStateToProps Profile \")\r\n    return ({\r\n    profile: state.postPage.profile,\r\n    status: state.postPage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus} ),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}